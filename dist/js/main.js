(()=>{"use strict";function e({timing:e,draw:t,duration:r}){let o=performance.now();requestAnimationFrame((function a(c){let l=(c-o)/r;l>1&&(l=1);let s=e(l);t(s),l<1&&requestAnimationFrame(a)}))}const t=({formID:e})=>{const t=document.getElementById(e),r=t.querySelector(".checkbox__label");t.querySelector(".checkbox__input").addEventListener("click",(()=>{r.classList.contains("error")&&r.classList.remove("error")}));try{if(!t)throw new Error("Верните форму на место, пожалуйста!");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),o=new FormData(t),a={};o.forEach(((e,t)=>{a[t]=e})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("input-phone")?e.value.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{6,}$/gi)||(t=!1,e.classList.add("error")):e.classList.contains("input-name")?e.value.match(/^[а-яА-Яa-zA-Z][а-яА-Яa-zA-Z]+[а-яА-Яa-zA-Z]?$/g)||(t=!1,e.classList.add("error")):e.classList.contains("checkbox__input")&&(e.checked||(t=!1,r.classList.add("error")))})),t})(e)?(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"aplication/json"}});return await t.json()})(a).then((t=>{e.forEach((e=>{e.value="",e.classList.remove("error")})),alert("Успешно отправлено")})).catch((e=>{console.log(e,"ошибка")})):alert("Данные не валидны")})()}))}catch(e){console.log(e.message)}};(()=>{const t=document.querySelector(".header-contacts__arrow"),r=document.querySelector(".header-contacts__phone-number-accord"),o=document.querySelector(".opacity");t.addEventListener("click",(a=>{a.preventDefault(),"1"==window.getComputedStyle(o).opacity?(r.style.transform="translateY(0px)",t.style.transform="rotate(0deg)",e({duration:100,timing:e=>e,draw(e){o.style.opacity=-e}})):(r.style.transform="translateY(25px)",t.style.transform="rotate(180deg)",e({duration:100,timing:e=>e,draw(e){o.style.opacity=e}}))}))})(),(()=>{const e=document.querySelector(".popup-dialog-menu"),t=document.querySelector(".popup-repair-types"),r=document.querySelector(".popup-privacy"),o=()=>{e.classList.toggle("active-menu")};window.addEventListener("click",(a=>{if(a.target.closest(".menu__title")||a.target.closest(".menu__icon"))o();else if(a.target.closest(".close-menu"))o();else if(a.target.closest('a[href*="#"]')&&e.contains(a.target))if(a.target.closest(".no-overflow"))a.preventDefault(),t.style.visibility="visible",o();else{a.preventDefault();const e=a.target.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"}),o()}else if(a.target.closest(".button-footer")){a.preventDefault();const e=a.target.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})}else a.target.closest(".fullPrice-btn")?t.style.visibility="visible":a.target.closest(".close")?(t.style.visibility="hidden",r.style.visibility="hidden"):a.target.closest(".close-btn-Fullprice-mobile")&&(t.style.visibility="hidden")}))})(),(()=>{let e=document.querySelectorAll(".input-phone"),t=document.querySelectorAll(".input-name");function r(e){let t="+7 (___) ___-__-__",r=0,o=t.replace(/\D/g,""),a=this.value.replace(/\D/g,"");o.length>=a.length&&(a=o),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&r<a.length?a.charAt(r++):r>=a.length?"":e})),"blur"==e.type?2==this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let r=t.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}}(this.value.length,this)}document.querySelectorAll(".formCheckBox"),e.forEach((e=>{e.addEventListener("input",r,!1),e.addEventListener("focus",r,!1),e.addEventListener("blur",r,!1)})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яёA-Za-z]$/gi,""),t=(e=>(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/\(+/g,"(")).replace(/\)+/g,")")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,""))(t),t=t.replace(/( |^)[ а-яёA-Za-z]/g,(e=>e.toUpperCase())),e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яёA-Za-z}]$/gi,"")}))})),e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))})),t.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))}))})(),(()=>{const e=document.querySelectorAll(".link-privacy"),t=document.querySelector(".popup-privacy");e.forEach((e=>{e.addEventListener("click",(()=>{t.style.visibility="visible"}))}))})(),document.querySelectorAll(".formula-item__icon-inner-text").forEach((e=>{e.addEventListener("mouseover",(e=>{e.target.closest(".formula-item").querySelector(".formula-item-popup").classList.add("formula-item-active")})),e.addEventListener("mouseout",(e=>{e.target.closest(".formula-item").querySelector(".formula-item-popup").classList.remove("formula-item-active")}))})),t({formID:"feedback1"}),t({formID:"feedback2"}),t({formID:"feedback3"}),t({formID:"feedback4"}),t({formID:"feedback5"}),t({formID:"feedback6"})})();