(()=>{"use strict";function e({timing:e,draw:t,duration:r}){let o=performance.now();requestAnimationFrame((function l(i){let a=(i-o)/r;a>1&&(a=1);let s=e(a);t(s),a<1&&requestAnimationFrame(l)}))}const t=({formID:e})=>{const t=document.getElementById(e),r=t.querySelector(".checkbox__label");t.querySelector(".checkbox__input").addEventListener("click",(()=>{r.classList.contains("error")&&r.classList.remove("error")}));try{if(!t)throw new Error("Верните форму на место, пожалуйста!");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),o=new FormData(t),l={};o.forEach(((e,t)=>{l[t]=e})),(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("input-phone")?e.value.match(/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{6,}$/gi)||(t=!1,e.classList.add("error")):e.classList.contains("input-name")?e.value.match(/^[а-яА-Яa-zA-Z][а-яА-Яa-zA-Z]+[а-яА-Яa-zA-Z]?$/g)||(t=!1,e.classList.add("error")):e.classList.contains("checkbox__input")&&(e.checked||(t=!1,r.classList.add("error")))})),t})(e)?(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"aplication/json"}});return await t.json()})(l).then((t=>{e.forEach((e=>{e.value="",e.classList.remove("error")})),alert("Успешно отправлено")})).catch((e=>{console.log(e,"ошибка")})):alert("Данные не валидны")})()}))}catch(e){console.log(e.message)}};(()=>{const t=document.querySelector(".header-contacts__arrow"),r=document.querySelector(".header-contacts__phone-number-accord"),o=document.querySelector(".opacity");t.addEventListener("click",(l=>{l.preventDefault(),"1"==window.getComputedStyle(o).opacity?(r.style.transform="translateY(0px)",t.style.transform="rotate(0deg)",e({duration:100,timing:e=>e,draw(e){o.style.opacity=-e}})):(r.style.transform="translateY(25px)",t.style.transform="rotate(180deg)",e({duration:100,timing:e=>e,draw(e){o.style.opacity=e}}))}))})(),(()=>{const e=document.querySelector(".popup-dialog-menu"),t=document.querySelector(".popup-repair-types"),r=document.querySelector(".popup-privacy"),o=document.querySelector(".popup-portfolio"),l=document.querySelector(".popup-transparency"),i=document.querySelector(".popup-consultation"),a=()=>{e.classList.toggle("active-menu")};window.addEventListener("click",(s=>{if(s.target.closest(".menu__title")||s.target.closest(".menu__icon"))a();else if(s.target.closest(".close-menu"))a();else if(s.target.closest('a[href*="#"]')&&e.contains(s.target))if(s.target.closest(".no-overflow"))s.preventDefault(),t.style.visibility="visible",a();else{s.preventDefault();const e=s.target.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"}),a()}else if(s.target.closest(".button-footer")){s.preventDefault();const e=s.target.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})}else s.target.closest(".fullPrice-btn")?t.style.visibility="visible":s.target.closest(".close")?(t.style.visibility="hidden",r.style.visibility="hidden",o.style.visibility="hidden",l.style.visibility="hidden",i.style.visibility="hidden"):s.target.closest(".close-btn-Fullprice-mobile")&&(t.style.visibility="hidden")}))})(),(()=>{let e=document.querySelectorAll(".input-phone"),t=document.querySelectorAll(".input-name");function r(e){let t="+7 (___) ___-__-__",r=0,o=t.replace(/\D/g,""),l=this.value.replace(/\D/g,"");o.length>=l.length&&(l=o),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&r<l.length?l.charAt(r++):r>=l.length?"":e})),"blur"==e.type?2==this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let r=t.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}}(this.value.length,this)}document.querySelectorAll(".formCheckBox"),e.forEach((e=>{e.addEventListener("input",r,!1),e.addEventListener("focus",r,!1),e.addEventListener("blur",r,!1)})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value;t=t.replace(/[^а-яёA-Za-z]$/gi,""),t=(e=>(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/-+/g,"-")).replace(/\(+/g,"(")).replace(/\)+/g,")")).replace(/^[ |\-+]/g,"")).replace(/[ |\-+]$/g,""))(t),t=t.replace(/( |^)[ а-яёA-Za-z]/g,(e=>e.toUpperCase())),e.target.value=t})),e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яёA-Za-z}]$/gi,"")}))})),e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))})),t.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("error")&&e.classList.remove("error")}))}))})(),(()=>{const e=document.querySelectorAll(".link-privacy"),t=document.querySelector(".popup-privacy");e.forEach((e=>{e.addEventListener("click",(()=>{t.style.visibility="visible"}))}))})(),(()=>{const e=document.querySelectorAll(".formula-item__icon-inner-text"),t=(document.querySelector(".formula-title").style.zIndex="-1",new IntersectionObserver(((e,r)=>{e.forEach((e=>{e.isIntersecting?(e.target.style.zIndex="1",e.target.classList.add("formula-item-active"),t.unobserve(e.target)):e.isIntersecting||((e=>{let t=e.closest(".formula-item");t.style.zIndex="1",t.querySelector(".formula-item-popup").classList.add("formula-item-active"),t.querySelector(".formula-item-popup").classList.add("formula-item-trans"),t.querySelector(".formula-item-popup-01")?(console.log("есть"),t.querySelector(".formula-item-popup-01").style.transform="rotate(180deg) translateY(-245px)",t.querySelector(".formula-item__descr").style.opacity="0"):t.querySelector(".formula-item-popup-02")?(console.log("есть"),t.querySelector(".formula-item-popup-02").style.transform="rotate(180deg) translateY(-290px)",t.querySelector(".formula-item__descr").style.opacity="0"):t.querySelector(".formula-item-popup-03")?(console.log("есть"),t.querySelector(".formula-item-popup-03").style.transform="rotate(180deg) translateY(-320px)",t.querySelector(".formula-item__descr").style.opacity="0"):t.querySelector(".formula-item-popup-04")?(console.log("есть"),t.querySelector(".formula-item-popup-04").style.transform="rotate(180deg) translateY(-270px)",t.querySelector(".formula-item__descr").style.opacity="0"):t.querySelector(".formula-item-popup-05")?(console.log("есть"),t.querySelector(".formula-item-popup-05").style.transform="rotate(180deg) translateY(-335px)",t.querySelector(".formula-item__descr").style.opacity="0",t.querySelector(".formula-item-popup-05 > div").style.marginTop="30px"):t.querySelector(".formula-item-popup-06")?(console.log("есть"),t.querySelector(".formula-item-popup-06").style.transform="rotate(180deg) translateY(-285px)",t.querySelector(".formula-item__descr").style.opacity="0"):console.log("нету")})(e.target),t.unobserve(e.target))}))}),{threshold:.9}));e.forEach((e=>{e.addEventListener("mouseover",(e=>{(e=>{let r=e.closest(".formula-item");r.querySelector(".formula-item__icon-inner").classList.add("active-item"),r.querySelector(".formula-item-popup-01")?t.observe(r.querySelector(".formula-item-popup-01")):r.querySelector(".formula-item-popup-02")?t.observe(r.querySelector(".formula-item-popup-02")):r.querySelector(".formula-item-popup-03")?t.observe(r.querySelector(".formula-item-popup-03")):r.querySelector(".formula-item-popup-04")?t.observe(r.querySelector(".formula-item-popup-04")):r.querySelector(".formula-item-popup-05")?t.observe(r.querySelector(".formula-item-popup-05")):r.querySelector(".formula-item-popup-06")?t.observe(r.querySelector(".formula-item-popup-06")):console.log("нету")})(e.target)})),e.addEventListener("mouseout",(e=>{(e=>{let t=e.closest(".formula-item");t.style.zIndex="",t.querySelector(".formula-item__icon-inner").classList.remove("active-item"),t.querySelector(".formula-item-popup").classList.remove("formula-item-active"),t.querySelector(".formula-item-popup").classList.contains("formula-item-trans")&&t.querySelector(".formula-item-popup").classList.remove("formula-item-trans"),t.querySelector(".formula-item-popup-01")?(t.querySelector(".formula-item-popup-01").style.transform="rotate(0deg) translateY(-5px)",t.querySelector(".formula-item__descr").style.opacity="1"):t.querySelector(".formula-item-popup-02")?(t.querySelector(".formula-item-popup-02").style.transform="rotate(0deg) translateY(-5px)",t.querySelector(".formula-item__descr").style.opacity="1"):t.querySelector(".formula-item-popup-03")?(t.querySelector(".formula-item-popup-03").style.transform="rotate(0deg) translateY(-5px)",t.querySelector(".formula-item__descr").style.opacity="1"):t.querySelector(".formula-item-popup-04")?(t.querySelector(".formula-item-popup-04").style.transform="rotate(0deg) translateY(-5px)",t.querySelector(".formula-item__descr").style.opacity="1"):t.querySelector(".formula-item-popup-05")?(t.querySelector(".formula-item-popup-05").style.transform="rotate(0deg) translateY(-5px)",t.querySelector(".formula-item__descr").style.opacity="1",t.querySelector(".formula-item-popup-05 > div").style.marginTop="0px"):t.querySelector(".formula-item-popup-06")?(t.querySelector(".formula-item-popup-06").style.transform="rotate(0deg) translateY(-5px)",t.querySelector(".formula-item__descr").style.opacity="1"):console.log("нету")})(e.target)}))}))})(),document.querySelector(".formula-item__icon"),new Swiper(".formula-slider",{centeredSlides:!0,loop:!0,breakpoints:{320:{slidesPerView:1},576:{slidesPerView:3,spaceBetween:30}},navigation:{nextEl:".slider-arrow_right-formula",prevEl:".slider-arrow_left-formula"}}),window.addEventListener("resize",(()=>{window.screen.width<1024&&setInterval((()=>{document.querySelector(".formula-slider").querySelectorAll(".swiper-slide").forEach((e=>{e.classList.contains("swiper-slide-active")?e.querySelector(".formula-item").classList.add("active-item"):e.querySelector(".formula-item").classList.remove("active-item")}))}),100)})),(()=>{const e=document.querySelector(".repair-types-tab"),t=document.querySelectorAll(".repair-types-nav__item"),r=document.querySelectorAll(".types-repair-slider-swiper");e.addEventListener("click",(e=>{if(e.target.closest(".repair-types-nav__item")){const o=e.target.closest(".repair-types-nav__item");t.forEach(((e,t)=>{e===o?(e.classList.add("active"),r[t].style.display="flex"):(e.classList.remove("active"),r[t].style.display="none")}))}}))})(),(()=>{new Swiper(".types-repair-slider-swiper",{navigation:{nextEl:".repair-arrow-right",prevEl:".repair-arrow-left"},pagination:{el:".repair-slider-counter",type:"fraction",renderFraction:function(e,t){return'<span class="'+e+'"></span><span class="'+t+'"></span>'}}});const e=new Swiper(".repair-types-nav",{centeredSlides:!0,slidesPerView:1,init:!1,navigation:{nextEl:".tabs-right",prevEl:".tabs-left"}});window.screen.width<1025&&e.init(),window.addEventListener("resize",(()=>{window.screen.width<1025&&e.init()}))})(),(()=>{const e=new Swiper(".portfolio-slider-desktop",{breakpoints:{576:{slidesPerView:1},876:{slidesPerView:2},1050:{slidesPerView:3}},navigation:{nextEl:"#portfolio-arrow_right",prevEl:"#portfolio-arrow_left"}});let t=document.querySelector(".slider-arrow_right-portfolio"),r=document.querySelector(".slider-arrow_left-portfolio");t.addEventListener("click",(()=>{window.screen.width<1050&&window.screen.width>876?3==e.realIndex&&(r.style.display="flex",t.style.display="none"):window.screen.width<876&&window.screen.width>576?4==e.realIndex&&(r.style.display="flex",t.style.display="none"):2==e.realIndex&&(r.style.display="flex",t.style.display="none")})),r.addEventListener("click",(()=>{0==e.realIndex&&(r.style.display="none",t.style.display="flex")}))})(),new Swiper(".portfolio-slider-mobile",{navigation:{nextEl:"#portfolio-arrow-mobile_right",prevEl:"#portfolio-arrow-mobile_left"},pagination:{el:".portfolio-slider-counter",type:"fraction",renderFraction:function(e,t){return'<span class="'+e+'"></span><span class="'+t+'"></span>'}}}),(()=>{const e=document.querySelector(".portfolio"),t=document.querySelector(".popup-portfolio"),r=document.querySelectorAll(".popup-portfolio-text"),o=document.querySelector("#popup_portfolio_left"),l=document.querySelector("#popup_portfolio_right");e.addEventListener("click",(e=>{console.log(e.target),e.target.closest(".portfolio-slider__slide-frame")&&(t.style.visibility="visible")}));const i=new Swiper(".popup-portfolio-slider",{navigation:{nextEl:"#popup_portfolio_right",prevEl:"#popup_portfolio_left"},pagination:{el:".popUp-swiper-counter",type:"fraction",renderFraction:function(e,t){return'<span class="'+e+'"></span><span class="'+t+'"></span>'}}});r[0].style.display="flex",l.addEventListener("click",(()=>{r[i.realIndex].style.display="flex",0!=i.realIndex&&(r[i.realIndex-1].style.display="none")})),o.addEventListener("click",(()=>{r[i.realIndex].style.display="flex",10!=i.realIndex&&(r[i.realIndex+1].style.display="none")}))})(),(()=>{const e=document.querySelector(".transparency"),t=document.querySelector(".popup-transparency");e.addEventListener("click",(e=>{e.target.closest(".transparency-item__img")&&(t.style.visibility="visible")})),new Swiper(".popup-transparency-slider",{navigation:{nextEl:"#transparency_right",prevEl:"#transparency_left"},pagination:{el:".transparency-swiper-counter",type:"fraction",renderFraction:function(e,t){return'<span class="'+e+'"></span><span class="'+t+'"></span>'}}});const r=new Swiper(".transparency-slider",{centeredSlides:!0,slidesPerView:1,init:!1,navigation:{nextEl:"#transparency-arrow_right",prevEl:"#transparency-arrow_left"}});window.screen.width<1091&&r.init(),window.addEventListener("resize",(()=>{window.screen.width<1091&&r.init()}))})(),(()=>{const e=document.querySelectorAll(".button_wide"),t=document.querySelector(".popup-consultation");e.forEach((e=>{e.addEventListener("click",(()=>{t.style.visibility="visible"}))}))})(),t({formID:"feedback1"}),t({formID:"feedback2"}),t({formID:"feedback3"}),t({formID:"feedback4"}),t({formID:"feedback5"}),t({formID:"feedback6"})})();